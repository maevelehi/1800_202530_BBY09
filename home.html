<!DOCTYPE html>
<html lang="en">
  <head>
    <title>FlipIt</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script type="module" src="/src/components/site-navbar.js"></script>
    <script type="module" src="./src/addcard.js"></script>
    <link rel="stylesheet" href="./src/styles/home.css" />

    <!-- footer icon link  -->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
  </head>

  <body class="d-flex flex-column min-vh-100">
    <site-navbar></site-navbar>

    <div class="main-container flex-fill pb-5">
      <div class="content-wrapper">
        <div class="top-info-grid">
          <div class="deck-info">
            <h1 class="page-title">Home</h1>
          </div>

          <!-- Filter Bar 插入开始 -->
          <div id="filter-bar" class="filter-bar" style="margin-top: 18px">
            <select id="topicFilter" class="filter-select">
              <option value="">Select Topic</option>
            </select>

            <select id="chapterFilter" class="filter-select" disabled>
              <option value="">Select Chapter</option>
            </select>

            <button id="clearFilter" class="filter-clear-btn">Clear</button>
          </div>
          <!-- Filter Bar 插入结束 -->

          <!-- Move dropdown here and add positioning class -->
          <div class="dropdown-container">
            <div class="drop-down">
              <button
                class="btn btn-secondary dropdown-toggle"
                type="button"
                id="dropdownMenu"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Add cards
              </button>
              <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
                <li>
                  <button
                    class="dropdown-item"
                    type="button"
                    id="addCardsManually"
                    data-action="add-cards"
                  >
                    Add cards manually
                  </button>
                </li>
                <li>
                  <button
                    class="dropdown-item"
                    type="button"
                    id="uploadCsv"
                    data-action="upload-csv"
                  >
                    Upload CSV file
                  </button>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <div class="questions-list" id="cards-go-here"></div>

        <template id="cardTemplate">
          <div class="question-card">
            <div class="chapter-label">
              Chapter <span class="chapter-num"></span>
            </div>
            <p class="question-text"></p>
            <button class="flip-btn">Flip</button>
            <img
              src="./images/removeIcon.png"
              alt="Remove"
              class="remove-btn"
            />
            <div class="answer-text" style="display: none"></div>
          </div>
        </template>
      </div>
    </div>

    <input type="file" id="csvFileInput" accept=".csv" style="display: none" />

    <script type="module" src="/src/main.js"></script>
    <script type="module" src="/src/firebaseConfig.js"></script>
    <script type="module" src="/src/authentication.js"></script>
    <script type="module" src="/src/loginSignup.js"></script>
    <script type="module" src="./src/csvUpload.js"></script>
    <script type="module" src="/src/app.js"></script>
    <script type="module" src="./src/searchFilter.js"></script>
  </body>
</html>
